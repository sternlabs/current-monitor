EESchema Schematic File Version 2
LIBS:k22f-64lqfp
LIBS:MKL26ZxxVFM4
LIBS:fuse
LIBS:schottky
LIBS:max6070
LIBS:ltc3260
LIBS:lm27313
LIBS:lt6106
LIBS:-vs
LIBS:+vs
LIBS:+3v
LIBS:-15v
LIBS:+15v
LIBS:com
LIBS:sip32401a
LIBS:pnp
LIBS:phone-3
LIBS:npn
LIBS:esp-12
LIBS:conn-8
LIBS:conn-7
LIBS:conn-6
LIBS:conn-5
LIBS:conn-3
LIBS:bat
LIBS:aat1217
LIBS:jumper
LIBS:pmos
LIBS:pot
LIBS:buck-sot23-5
LIBS:tp4056
LIBS:xtal
LIBS:vutmi
LIBS:vpll
LIBS:vout
LIBS:vio
LIBS:vin
LIBS:vcore
LIBS:vbu
LIBS:varef
LIBS:vana
LIBS:usb334x
LIBS:usb
LIBS:ts3usb31
LIBS:tps27081a
LIBS:tpd4s012
LIBS:tlv713
LIBS:thermistor
LIBS:testpoint
LIBS:test
LIBS:tactile-4
LIBS:spiflash
LIBS:solder-jumper-nc
LIBS:sit1602
LIBS:r4
LIBS:r
LIBS:pwr
LIBS:power_flag
LIBS:nmos
LIBS:mpu6050
LIBS:mpu-6050
LIBS:mpl3115a2
LIBS:mounting-hole
LIBS:mounthole
LIBS:microsd
LIBS:mic5205
LIBS:mchck
LIBS:max9938
LIBS:mag3110
LIBS:lpddrx16
LIBS:lm3671
LIBS:led
LIBS:l
LIBS:jtag
LIBS:ip425xcz12
LIBS:ina199
LIBS:gnd
LIBS:ferrite
LIBS:drv883x
LIBS:debugheader
LIBS:d
LIBS:cp
LIBS:conn-4
LIBS:conn-2x5
LIBS:conn-2
LIBS:cm1624
LIBS:c
LIBS:ant
LIBS:USB3300
LIBS:SAM3U-144
LIBS:ICE40HX4K-144
LIBS:+5v
LIBS:+3v3
LIBS:+1v8
LIBS:+1v2
LIBS:in-amp
LIBS:op-amp
LIBS:current-monitor-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 6
Title "High Precision Current Monitor"
Date "Sun 16 Aug 2015"
Rev "0"
Comp "sternlabs"
Comment1 "(c) 2015 Simon Schubert"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Rs R301
U 1 1 55CD18EA
P 4650 2750
F 0 "R301" V 4750 2600 50  0000 L CNN
F 1 "1.74k" V 4700 2600 50  0000 R CNN
F 2 "libs:SMD-1608" H 4785 2590 60  0001 C CNN
F 3 "" H 4785 2590 60  0000 C CNN
	1    4650 2750
	0    -1   -1   0   
$EndComp
$Comp
L +Vs #PWR024
U 1 1 55CD18EB
P 5700 2050
F 0 "#PWR024" H 5710 2050 20  0001 C CNN
F 1 "+Vs" H 5700 2110 40  0000 C CNN
F 2 "" H 5700 2050 60  0000 C CNN
F 3 "" H 5700 2050 60  0000 C CNN
	1    5700 2050
	1    0    0    -1  
$EndComp
$Comp
L C C301
U 1 1 55CD18EC
P 5550 2050
F 0 "C301" H 5610 1985 50  0000 L CNN
F 1 "0.1u" H 5610 1915 50  0000 L CNN
F 2 "libs:SMD-1608" H 5450 2200 60  0001 C CNN
F 3 "" H 5450 2200 60  0000 C CNN
	1    5550 2050
	-1   0    0    -1  
$EndComp
$Comp
L COM #PWR025
U 1 1 55CB9ACE
P 5550 2250
F 0 "#PWR025" V 5825 2250 60  0001 C CNN
F 1 "COM" H 5710 2135 30  0001 C CNN
F 2 "" H 5705 2260 60  0000 C CNN
F 3 "" H 5705 2260 60  0000 C CNN
	1    5550 2250
	1    0    0    -1  
$EndComp
$Comp
L -Vs #PWR026
U 1 1 55CB9B18
P 5700 3200
F 0 "#PWR026" H 5710 3200 20  0001 C CNN
F 1 "-Vs" H 5700 3260 40  0000 C CNN
F 2 "" H 5700 3200 60  0000 C CNN
F 3 "" H 5700 3200 60  0000 C CNN
	1    5700 3200
	1    0    0    1   
$EndComp
$Comp
L C C302
U 1 1 55CD18F6
P 5550 3000
F 0 "C302" H 5610 2935 50  0000 L CNN
F 1 "0.1u" H 5610 2865 50  0000 L CNN
F 2 "libs:SMD-1608" H 5450 3150 60  0001 C CNN
F 3 "" H 5450 3150 60  0000 C CNN
	1    5550 3000
	-1   0    0    -1  
$EndComp
$Comp
L COM #PWR027
U 1 1 55CD18F7
P 5550 3200
F 0 "#PWR027" V 5825 3200 60  0001 C CNN
F 1 "COM" H 5710 3085 30  0001 C CNN
F 2 "" H 5705 3210 60  0000 C CNN
F 3 "" H 5705 3210 60  0000 C CNN
	1    5550 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 2550 5450 2550
Wire Wire Line
	4850 2750 5450 2750
Wire Wire Line
	5550 2050 5700 2050
Wire Wire Line
	5700 2050 5700 2350
Wire Wire Line
	5550 3000 5700 3000
Wire Wire Line
	5700 2950 5700 3200
Wire Wire Line
	5900 3900 6850 3900
$Comp
L R R302
U 1 1 55CD18F1
P 8100 4000
F 0 "R302" V 8200 3800 50  0000 L CNN
F 1 "67k" V 8150 3750 50  0000 R CNN
F 2 "libs:SMD-1608" H 8235 3840 60  0001 C CNN
F 3 "" H 8235 3840 60  0000 C CNN
	1    8100 4000
	0    -1   -1   0   
$EndComp
$Comp
L R R303
U 1 1 55CD18F2
P 8100 4050
F 0 "R303" H 8160 3930 50  0000 L CNN
F 1 "470" H 8160 3860 50  0000 L CNN
F 2 "libs:SMD-1608" H 8235 3890 60  0001 C CNN
F 3 "" H 8235 3890 60  0000 C CNN
	1    8100 4050
	1    0    0    -1  
$EndComp
$Comp
L COM #PWR028
U 1 1 55CD18F3
P 8100 4350
F 0 "#PWR028" V 8375 4350 60  0001 C CNN
F 1 "COM" H 8260 4235 30  0001 C CNN
F 2 "" H 8255 4360 60  0000 C CNN
F 3 "" H 8255 4360 60  0000 C CNN
	1    8100 4350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 4000 8100 4050
Wire Wire Line
	8400 4000 8700 4000
Wire Wire Line
	7400 4000 8100 4000
$Comp
L C C306
U 1 1 55CD18FE
P 7950 4100
F 0 "C306" H 8010 4035 50  0000 L CNN
F 1 "10n" H 8010 3965 50  0000 L CNN
F 2 "libs:SMD-2012" H 7850 4250 60  0001 C CNN
F 3 "" H 7850 4250 60  0000 C CNN
	1    7950 4100
	-1   0    0    -1  
$EndComp
$Comp
L COM #PWR029
U 1 1 55CD35E5
P 7950 4350
F 0 "#PWR029" V 8225 4350 60  0001 C CNN
F 1 "COM" H 8110 4235 30  0001 C CNN
F 2 "" H 8105 4360 60  0000 C CNN
F 3 "" H 8105 4360 60  0000 C CNN
	1    7950 4350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 4000 7950 4100
Connection ~ 6750 3900
Connection ~ 7950 4000
Connection ~ 5700 3000
Wire Wire Line
	4500 2550 4500 2750
Text Notes 5400 1800 0    60   ~ 0
In-Amp\nG=1+49.4k/Rg\nG=+29.4dB
Text Notes 2550 2750 0    60   ~ 0
Sense R\nG=-9.6dB
Text Notes 7400 3950 0    50   ~ 0
7mV
Wire Wire Line
	7950 4350 7950 4300
Wire Wire Line
	5900 2800 5900 3900
Wire Wire Line
	4500 2750 4650 2750
Text Notes 6000 5300 0    60   ~ 0
U301 offset voltages:\nV_osi = 150u + 2u/K\nV_oso = 700u + 10u/K\nmax G = 30, max delta T = 20K\nV_os(20K) = V_osi * G + V_oso = 30 * 190u + 900u = 6.6mV
Text HLabel 2950 2450 0    60   Input ~ 0
SENSE+
Text HLabel 2950 2850 0    60   Input ~ 0
SENSE-
Text HLabel 9100 2650 2    60   Output ~ 0
SENSE_COARSE
Wire Wire Line
	6150 2650 9100 2650
Wire Wire Line
	5450 2450 2950 2450
Wire Wire Line
	5450 2850 2950 2850
Wire Wire Line
	6750 3900 6750 3200
Wire Wire Line
	6750 3200 7650 3200
Wire Wire Line
	7650 3200 7650 3800
Wire Wire Line
	7650 3800 7400 3800
$Comp
L +3.00V #PWR030
U 1 1 55D1128C
P 8700 3950
F 0 "#PWR030" H 8710 3950 20  0001 C CNN
F 1 "+3.00V" H 8700 4010 40  0000 C CNN
F 2 "" H 8700 3950 60  0000 C CNN
F 3 "" H 8700 3950 60  0000 C CNN
	1    8700 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	8700 4000 8700 3950
$Comp
L OP-AMP-DUAL-8-SOIC U203
U 1 1 55D4B2D5
P 7250 3900
F 0 "U203" H 7500 3750 60  0000 L CNN
F 1 "TL032C" H 7500 3650 60  0000 L CNN
F 2 "libs:SOIC-8-N" H 7250 3900 60  0001 C CNN
F 3 "" H 7250 3900 60  0000 C CNN
	1    7250 3900
	-1   0    0    -1  
$EndComp
$Comp
L IN-AMP-8-SOIC U301
U 1 1 55D4E897
P 5450 2450
F 0 "U301" H 5850 2600 60  0000 L CNN
F 1 "INA826" H 5850 2500 60  0000 L CNN
F 2 "libs:SOIC-8-N" H 5600 2250 60  0001 C CNN
F 3 "" H 5600 2250 60  0000 C CNN
	1    5450 2450
	1    0    0    -1  
$EndComp
$Comp
L -Vs #PWR031
U 1 1 55D62596
P 7150 4350
F 0 "#PWR031" H 7160 4350 20  0001 C CNN
F 1 "-Vs" H 7150 4410 40  0000 C CNN
F 2 "" H 7150 4350 60  0000 C CNN
F 3 "" H 7150 4350 60  0000 C CNN
	1    7150 4350
	-1   0    0    1   
$EndComp
$Comp
L C C214
U 1 1 55D6259C
P 7300 4150
F 0 "C214" H 7360 4085 50  0000 L CNN
F 1 "0.1u" H 7360 4015 50  0000 L CNN
F 2 "libs:SMD-1608" H 7200 4300 60  0001 C CNN
F 3 "" H 7200 4300 60  0000 C CNN
	1    7300 4150
	1    0    0    -1  
$EndComp
$Comp
L COM #PWR032
U 1 1 55D625A2
P 7300 4350
F 0 "#PWR032" V 7575 4350 60  0001 C CNN
F 1 "COM" H 7460 4235 30  0001 C CNN
F 2 "" H 7455 4360 60  0000 C CNN
F 3 "" H 7455 4360 60  0000 C CNN
	1    7300 4350
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7300 4150 7150 4150
Wire Wire Line
	7150 4100 7150 4350
Connection ~ 7150 4150
$Comp
L +Vs #PWR033
U 1 1 55D62774
P 7150 3400
F 0 "#PWR033" H 7160 3400 20  0001 C CNN
F 1 "+Vs" H 7150 3460 40  0000 C CNN
F 2 "" H 7150 3400 60  0000 C CNN
F 3 "" H 7150 3400 60  0000 C CNN
	1    7150 3400
	-1   0    0    -1  
$EndComp
$Comp
L C C213
U 1 1 55D6277A
P 7300 3400
F 0 "C213" H 7360 3335 50  0000 L CNN
F 1 "0.1u" H 7360 3265 50  0000 L CNN
F 2 "libs:SMD-1608" H 7200 3550 60  0001 C CNN
F 3 "" H 7200 3550 60  0000 C CNN
	1    7300 3400
	1    0    0    -1  
$EndComp
$Comp
L COM #PWR034
U 1 1 55D62780
P 7300 3600
F 0 "#PWR034" V 7575 3600 60  0001 C CNN
F 1 "COM" H 7460 3485 30  0001 C CNN
F 2 "" H 7455 3610 60  0000 C CNN
F 3 "" H 7455 3610 60  0000 C CNN
	1    7300 3600
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7300 3400 7150 3400
Wire Wire Line
	7150 3400 7150 3700
Text Label 6050 3900 0    50   ~ 0
REF_COARSE
$EndSCHEMATC
